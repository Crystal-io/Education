# 03. Client–Server and API Fundamentals

## Цель модуля
Закрепить практическое понимание клиент–серверного взаимодействия и способов обмена данными,
чтобы уверенно отвечать на технические вопросы на интервью System / Business Analyst.

Фокус — не на программировании, а на **мышлении аналитика**:
как читать, описывать и обсуждать взаимодействие систем.

---

## 1. Client–Server модель

Client–Server — это архитектурный принцип, при котором:

Client:
- инициирует запросы
- отображает данные
- не содержит бизнес-логики

Server:
- обрабатывает запросы
- реализует бизнес-логику
- управляет данными и интеграциями

Типовая схема:
Client → Server → Database / External Systems

---

## 2. Роль аналитика в client–server архитектуре

Аналитик должен:
- понимать, где исполняется бизнес-логика
- уметь объяснить поток данных
- выявлять риски на границе client ↔ server
- формализовывать контракты взаимодействия

Аналитик **не пишет код**, но описывает:
- входные данные
- выходные данные
- правила обработки
- ошибки и ограничения

---

## 3. API: что это и зачем

API (Application Programming Interface) — это контракт взаимодействия между системами.

API отвечает на вопросы:
- какие операции доступны
- какие данные принимает система
- какие данные возвращает
- какие ошибки возможны

Для аналитика API — это **документируемый контракт**, а не реализация.

---

## 4. REST API — базовые принципы

Наиболее распространённый подход — REST.

Ключевые принципы:
- HTTP протокол
- stateless взаимодействие
- ресурсы и операции над ними
- использование стандартных HTTP-методов

---

## 5. HTTP методы

Основные методы:

GET — получить данные  
POST — создать сущность / выполнить операцию  
PUT — обновить сущность полностью  
PATCH — обновить частично  
DELETE — удалить  

Аналитик должен понимать:
- какой метод когда используется
- какие побочные эффекты допустимы

---

## 6. HTTP статус-коды

Типовые группы статусов:

2xx — успех (200, 201)  
4xx — ошибка клиента (400, 401, 403, 404, 409)  
5xx — ошибка сервера (500, 502, 503)  

На интервью важно уметь:
- привести примеры
- объяснить бизнес-смысл ошибок

---

## 7. Idempotency

Idempotent запрос — это запрос, повторное выполнение которого
не изменяет результат.

Примеры:
- GET — idempotent
- PUT — idempotent
- POST — не всегда idempotent

Почему это важно:
- сетевые сбои
- повторные запросы
- high-load системы

---

## 8. Retries и Timeouts

В реальных системах запросы могут:
- не дойти
- зависнуть
- завершиться с ошибкой

Аналитик должен учитывать:
- retry-стратегии
- timeout ограничения
- возможные дубликаты операций

---

## 9. Webhooks и асинхронные взаимодействия

Webhook — это обратный вызов от сервера к клиенту.

Используется, когда:
- операция выполняется асинхронно
- результат известен не сразу

Важно учитывать:
- повторную доставку
- безопасность (подписи, IP allowlist)
- обработку ошибок и повторов

---

## 10. API vs Webhook vs WebSocket (описание и вопросы с ответами)

### Краткое описание

**API (REST)**  
Клиент сам запрашивает данные у сервера по необходимости (request → response).

**Webhook**  
Сервер сам отправляет данные клиенту при наступлении события.

**WebSocket**  
Постоянное двустороннее соединение для обмена данными в реальном времени.

---

### Сравнение подходов

| Критерий | API | Webhook | WebSocket |
|--------|-----|---------|-----------|
| Инициатор | Клиент | Сервер | Оба |
| Тип связи | Запрос-ответ | Событийная | Постоянная |
| Реалтайм | Нет | Почти | Да |
| Сложность | Низкая | Средняя | Высокая |
| Типовые кейсы | CRUD, запрос данных | Статусы, уведомления | Чаты, live-обновления |

---

### Типовые вопросы на интервью (с ответами)

**Вопрос:** В чём ключевая разница между API и Webhook?  
**Ответ:** API требует активного запроса со стороны клиента, webhook отправляет данные автоматически при событии.

**Вопрос:** Когда лучше использовать webhook вместо polling API?  
**Ответ:** Когда важно получать события сразу и не нагружать систему постоянными запросами.

**Вопрос:** Чем WebSocket принципиально отличается от webhook?  
**Ответ:** WebSocket — это постоянное двустороннее соединение, webhook — разовые HTTP-вызовы по событию.

**Вопрос:** Можно ли заменить WebSocket webhook’ами?  
**Ответ:** Нет, webhook не подходит для real-time двустороннего общения.

**Вопрос:** Какие риски есть у webhook-интеграций?  
**Ответ:** Потеря событий, дубликаты, проблемы с безопасностью и повторной доставкой.

**Вопрос:** Какие риски есть у WebSocket?  
**Ответ:** Управление соединениями, масштабирование, устойчивость к сбоям.

**Вопрос:** Как аналитик выбирает подходящий способ интеграции?  
**Ответ:** Исходя из бизнес-задачи, требований к задержке, нагрузке и сложности поддержки.

---

## Результат модуля

После этого модуля ты:
- понимаешь client–server взаимодействие
- различаешь API, webhook и WebSocket
- можешь аргументированно выбрать подход
- уверенно отвечаешь на вопросы по интеграциям

Следующий модуль:
04_SQL_and_Data_Modeling.md
